üîπ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

–ü—Ä–æ–µ–∫—Ç: EverEst ‚Äî MVP –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–∞–º—è—Ç–∏ (B2B2C, –º–µ–º–æ—Ä–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).

–°–æ—Å—Ç–æ—è–Ω–∏–µ: –ë—ç–∫–µ–Ω–¥ –Ω–∞ Django (Python) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ –¢–ó –∏ –≥–æ—Ç–æ–≤, —Å–µ–π—á–∞—Å –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

–°—Ç–µ–∫: Django 5, Django REST Framework (DRF), PostgreSQL, Redis (–∫—ç—à/–æ—á–µ—Ä–µ–¥–∏), S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è).

–•–æ—Å—Ç–∏–Ω–≥: –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º FADP/GDPR ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –®–≤–µ–π—Ü–∞—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Infomaniak, Swizzonic). –°–µ–π—á–∞—Å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ.

–í–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Next.js/React) –∏ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî –ø–æ–∫–∞ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ MVP. –ü—Ä–æ–≤–µ—Ä—è–µ–º API –∏ –∞–¥–º–∏–Ω–∫—É.

üîπ –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –∏—Ö —Å–≤—è–∑–∏ (Django ORM):

–ü–∞—Ä—Ç–Ω—ë—Ä—ã (B2B): Partner, PartnerUser (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ—Ö–æ—Ä–æ–Ω–Ω—ã—Ö –±—é—Ä–æ).

–Ø–¥—Ä–æ: Memorial (–º–µ–º–æ—Ä–∏–∞–ª), FamilyInvite (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è —Å–µ–º—å–∏).

–ö–æ–Ω—Ç–µ–Ω—Ç: MediaAsset (—Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç—ã), Tribute (—Å–æ–±–æ–ª–µ–∑–Ω–æ–≤–∞–Ω–∏—è), QRCode.

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ: AuditLog (–∞—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π), ShortLink.

üîπ –ö–ª—é—á–µ–≤—ã–µ API Endpoints (DRF) ‚Äî —á—Ç–æ —É–∂–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:

–î–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ (/api/memorials/): –°–æ–∑–¥–∞–Ω–∏–µ, –∞–∫—Ç–∏–≤–∞—Ü–∏—è (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR), –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–Ω–≤–∞–π—Ç–∞ —Å–µ–º—å–µ.

–î–ª—è —Å–µ–º—å–∏ (/api/memorials/{id}/assets/): –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ª–∏–º–∏—Ç–∞ 1 –ì–ë.

–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (/api/memorials/{short_code}/public/): –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–æ—Å—Ç—è (–±–∏–æ–≥—Ä–∞—Ñ–∏—è, –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ —Å–æ–±–æ–ª–µ–∑–Ω–æ–≤–∞–Ω–∏—è —Å–µ–º—å–µ–π).

–ú–æ–¥–µ—Ä–∞—Ü–∏—è (/api/tributes/{id}/approve/, reject/): –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º —Å–æ–±–æ–ª–µ–∑–Ω–æ–≤–∞–Ω–∏–π (–Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–±–æ–ª–µ–∑–Ω–æ–≤–∞–Ω–∏—è, —Ç–æ –µ—Å—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Å–µ–º—å–µ–π, –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –Ω–∞—Ö–æ–¥—è—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –º–µ–º–æ—Ä–∏–∞–ª–æ–º —Ö–æ—á–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–±–æ–ª–µ–∑–Ω–æ–≤–∞–Ω–∏–µ, –æ–Ω –µ–≥–æ –ø–∏—à–µ—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç, —Å–µ–º—å—è –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ-> –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –µ–≥–æ –∏ –æ–¥–æ–±—Ä—è–µ—Ç –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –º–µ–º–æ—Ä–∏–∞–ª–æ–º).

üîπ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (Custom Permission Classes –≤ everest/permissions.py):

IsPartnerUser ‚Äî –¥–æ—Å—Ç—É–ø –ø–æ —Å–µ—Å—Å–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±—é—Ä–æ.

HasFamilyToken ‚Äî –¥–æ—Å—Ç—É–ø –ø–æ —Ç–æ–∫–µ–Ω—É –∏–∑ FamilyInvite (–∑–∞–≥–æ–ª–æ–≤–æ–∫ X-Family-Token).

–ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, .../public/) ‚Äî –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

üîπ –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ALLOWED_HOSTS: –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å iPhone –¥–æ–±–∞–≤–ª–µ–Ω IP 172.20.10.4 .

–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–µ–º–æ—Ä–∏–∞–ª–∞–º: –ø–æ–∫–∞ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª—Å—è.

–¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö API endpoints, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤.

üîπ –ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ / –≤ –ø–ª–∞–Ω–∞—Ö (–Ω–∞–ø–æ–º–Ω–∏—Ç—å –ø—Ä–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏):

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º (–ø–æ–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏).

–°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–µ–π (Celery) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä.

–ü–æ–ª–Ω–∞—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (i18n).

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus, Grafana, Sentry.

–§—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

üîπ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

python manage.py migrate
python manage.py createsuperuser  # –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ /admin/
python manage.py runserver 172.20.10.4:8000  # –î–ª—è —Ç–µ—Å—Ç–æ–≤ —Å iPhone

–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (copy_everest)
PartnerUserAdmin (–≥–ª–∞–≤–Ω–∞—è –Ω–∞—Ö–æ–¥–∫–∞):

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Proxy-–º–æ–¥–µ–ª–∏ (PartnerUserProxy) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è PartnerUser –≤ –∞–¥–º–∏–Ω–∫–µ ‚Äî —ç—Ç–æ –≥–µ–Ω–∏–∞–ª—å–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –¢–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä—ã –≤–æ–æ–±—â–µ –Ω–µ –≤–∏–¥—è—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É auth_user.

–ú–µ—Ç–æ–¥ get_queryset –∏–¥–µ–∞–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é: –ø–∞—Ä—Ç–Ω–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

–í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è partner –∏ is_staff=True.

–ß–∏—Å—Ç–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞:

–ü–∞—Ä—Ç–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å PartnerUserProxy.

–°—É–ø–µ—Ä–∞–¥–º–∏–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ (User, Partner, PartnerUser) —á–µ—Ä–µ–∑ –∏—Ö —Ä–æ–¥–Ω—ã–µ –º–æ–¥–µ–ª–∏.

–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ø—Ä–∞–≤–∞–º–∏ change_user.
